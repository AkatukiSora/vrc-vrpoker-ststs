# 3. パーサー正規モデル採用

Date: 2026-02-27
日付: 2026-02-27

## Status

accepted

## 背景

VRChat のログは非構造テキストであり、解析結果の整合性が統計と UI の正しさに直結する。
複数の層でハンドロジックを再実装するとバグが増えるため、単一の正規モデルが必要だった。

## 決定

解析結果の正規モデルは `internal/parser` の型を唯一のソースとし、UI や統計はこれを参照する設計にする。

## 結果

### メリット
- ロジックの二重実装を避けられ、仕様変更の影響範囲が明確になる。
- 解析と統計の境界が明瞭になり、テストが容易になる。

### トレードオフ
- パーサー型の変更が統計/UI に広く影響する。
- 解析層が肥大化しすぎないよう責務の整理が必要。
